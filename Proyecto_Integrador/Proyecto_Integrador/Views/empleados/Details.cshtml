@model Proyecto_Integrador.Models.empleados

@{
    ViewBag.Title = "Details";
}

<script>

    $(document).ready(function () {
        //@Html.DisplayFor(model => model.provincia)
        if (@Html.DisplayFor(model => model.provincia) == 1) {
            $("#provincia").html("San José");
        } else if(@Html.DisplayFor(model => model.provincia) == 2){
            $("#provincia").html("Alajuela");
        } else if(@Html.DisplayFor(model => model.provincia) == 3){
            $("#provincia").html("Cartago");
        } else if(@Html.DisplayFor(model => model.provincia) == 4){
            $("#provincia").html("Heredia");
        } else if(@Html.DisplayFor(model => model.provincia) == 5){
            $("#provincia").html("Guanacaste");
        } else if(@Html.DisplayFor(model => model.provincia) == 6){
            $("#provincia").html("Puntarenas");
        } else if(@Html.DisplayFor(model => model.provincia) == 7){
            $("#provincia").html("Limón");
        }

        $.ajax({
            dataType: "json",
            url: "https://ubicaciones.paginasweb.cr/provincia/" + @Html.DisplayFor(model => model.provincia) + "/cantones.json",
            data: {},
            success: function (data) {
                $("#canton").html(data[@Html.DisplayFor(model => model.canton)]);
            }
        });

        $.ajax({
            dataType: "json",
            url: "https://ubicaciones.paginasweb.cr/provincia/" + @Html.DisplayFor(model => model.provincia) + "/canton/"+@Html.DisplayFor(model => model.canton)+"/distritos.json",
            data: {},
            success: function (data) {
                $("#distrito").html(data[@Html.DisplayFor(model => model.distrito)]);
            }
        });
    });

</script>

<h2>Detalles de Empleado</h2>
<h4>Administrador de empleados</h4>
<div class="botones">
    <a href="@Url.Action("Edit", new { cedulaPk = Model.cedulaPK })"><i class="far fa-edit fa-2x" style="color:dodgerblue"></i></a>&nbsp;
    <a href="@Url.Action("Delete", new {cedulaPk = Model.cedulaPK  })"><i class="far fa-trash-alt fa-2x" style="color:red"></i></a>&nbsp;
</div>

<div>
    <hr />
    <table class="table table-bordered">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.nombre)
            </th>

            <td>
                @Html.DisplayFor(model => model.nombre)
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.apellido1)
            </th>

            <td>
                @Html.DisplayFor(model => model.apellido1)
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.apellido2)
            </th>

            <td>
                @Html.DisplayFor(model => model.apellido2)
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.edad)
            </th>

            <td>
                @Html.DisplayFor(model => model.edad)
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.fechaNacimiento)
            </th>

            <td>
                @Html.DisplayFor(model => model.fechaNacimiento)
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.telefono)
            </th>

            <td>
                @Html.DisplayFor(model => model.telefono)
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.provincia)
            </th>

            <td>
                @*@Html.DisplayFor(model => model.provincia)*@
                <span id="provincia"></span>
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.canton)
            </th>

            <td>
                @*@Html.DisplayFor(model => model.canton)*@
                <span id="canton"></span>
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.distrito)

            </th>

            <td>
                @*@Html.DisplayFor(model => model.distrito)*@
                <span id="distrito"></span>
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.correo)
            </th>

            <td>
                @Html.DisplayFor(model => model.correo)
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.direccionDetallada)
            </th>

            <td>
                @Html.DisplayFor(model => model.direccionDetallada)
            </td>
        </tr>
        <tr>
            <th>
                Conocimientos
            </th>

            <td>                
                @Html.ActionLink("Info", "Index", "conocimientos", new { id = Model.cedulaPK }, new { @class = "btn btn-info" })
            </td>
        </tr>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.disponibilidad)
            </th>

            <td>
                @Html.DisplayFor(model => model.disponibilidad)
            </td>
        </tr>
    </table>
</div>

@** Modal para desplegar ventana emergente*@
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-notify modal-danger" role="document">
        <div class="modal-content">
            <!--Header-->
            <div class="modal-header">
                <h2> Eliminar Empleado </h2>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>

            <!--Body-->
            <div class="modal-body">
                <div class="text-center">
                    <i class="fas fa-trash" style="color:black"></i>
                    <h5>
                        Esta seguro que desea seguir con esta accion??
                    </h5>
                </div>
            </div>

            <!--Footer-->
            <div class="modal-footer justify-content-center">
                @using (Html.BeginForm())
                {
                    @Html.AntiForgeryToken()

                    <div class="form-actions no-color">
                        <input type="submit" value="Delete" data-id="cedulaPk = Model.cedulaPK" class="btn btn-danger" />
                    </div>
                }
                <a href="#" type="button" class="btn" data-dismiss="modal">Cancelar</a>
            </div>
        </div>
    </div>
</div>

@*Boton de regresar a la pagina pincipal *@
<div>
    <a href="~/empleados/Index" role="button" class="btn btn-secondary"> Regresar</a>
</div>
<br />
<br />

